!function(t){var e={},n={navigate:function(n,i,r,a){var s=a.scroll,o=1,l=0;if(e.expanded&&(s=1,o=3,l=e.idxClicked),1===n)r.find("div.ca-item:lt("+s+")").each(function(n){t(this).clone(!0).css("left",(e.totalItems-l+n)*e.itemW*o+"px").appendTo(r)});else{var u=r.children().eq(0);r.find("div.ca-item:gt("+(e.totalItems-1-s)+")").each(function(n){t(this).clone(!0).css("left",-(s-n+l)*e.itemW*o+"px").insertBefore(u)})}r.find("div.ca-item").each(function(){var i=t(this);i.stop().animate({left:1===n?"-="+e.itemW*o*s+"px":"+="+e.itemW*o*s+"px"},a.sliderSpeed,a.sliderEasing,function(){(1===n&&i.position().left<-l*e.itemW*o||-1===n&&i.position().left>(e.totalItems-1-l)*e.itemW*o)&&i.remove(),e.isAnimating=!1})})},openItem:function(t,i,r){e.idxClicked=i.index(),e.winpos=n.getWinPos(i.position().left),t.find("div.ca-item").not(i).hide(),i.find("div.ca-content-wrapper").css("left",e.itemW+"px").stop().animate({width:2*e.itemW+"px",left:e.itemW+"px"},r.itemSpeed,r.itemEasing).end().stop().animate({left:"0px"},r.itemSpeed,r.itemEasing,function(){e.isAnimating=!1,e.expanded=!0,n.openItems(t,i,r)})},openItems:function(i,r){var a=r.index();i.find("div.ca-item").each(function(){var i=t(this),r=i.index();r!==a&&(i.css("left",-(a-r)*3*e.itemW+"px").show().find("div.ca-content-wrapper").css({left:e.itemW+"px",width:2*e.itemW+"px"}),n.toggleMore(i,!1))})},toggleMore:function(t,e){e?t.find("a.ca-more").show():t.find("a.ca-more").hide()},closeItems:function(i,r,a){var s=r.index();r.find("div.ca-content-wrapper").stop().animate({width:"0px"},a.itemSpeed,a.itemEasing).end().stop().animate({left:e.itemW*(e.winpos-1)+"px"},a.itemSpeed,a.itemEasing,function(){e.isAnimating=!1,e.expanded=!1}),n.toggleMore(r,!0),i.find("div.ca-item").each(function(){var i=t(this),r=i.index();r!==s&&(i.find("div.ca-content-wrapper").css({width:"0px"}).end().css("left",(e.winpos-1-(s-r))*e.itemW+"px").show(),n.toggleMore(i,!0))})},getWinPos:function(t){switch(t){case 0:return 1;case e.itemW:return 2;case 2*e.itemW:return 3}}},i={init:function(i){if(this.length){var r={sliderSpeed:500,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1};return this.each(function(){i&&t.extend(r,i);var a=t(this),s=a.find("div.ca-wrapper"),o=s.children("div.ca-item");e.itemW=o.width(),e.totalItems=o.length,e.totalItems>3&&a.prepend('<div class="ca-nav"><span class="ca-nav-prev">Previous</span><span class="ca-nav-next">Next</span></div>'),r.scroll<1?r.scroll=1:r.scroll>3&&(r.scroll=3);var l=a.find("span.ca-nav-prev"),u=a.find("span.ca-nav-next");s.css("overflow","hidden"),o.each(function(n){t(this).css({position:"absolute",left:n*e.itemW+"px"})}),a.find("a.ca-more").live("click.contentcarousel",function(){if(e.isAnimating)return!1;e.isAnimating=!0,t(this).hide();var i=t(this).closest("div.ca-item");return n.openItem(s,i,r),!1}),a.find("a.ca-close").live("click.contentcarousel",function(){if(e.isAnimating)return!1;e.isAnimating=!0;var i=t(this).closest("div.ca-item");return n.closeItems(s,i,r),!1}),l.bind("click.contentcarousel",function(){return e.isAnimating?!1:(e.isAnimating=!0,n.navigate(-1,a,s,r),void 0)}),u.bind("click.contentcarousel",function(){return e.isAnimating?!1:(e.isAnimating=!0,n.navigate(1,a,s,r),void 0)}),a.bind("mousewheel.contentcarousel",function(t,i){if(i>0){if(e.isAnimating)return!1;e.isAnimating=!0,n.navigate(-1,a,s,r)}else{if(e.isAnimating)return!1;e.isAnimating=!0,n.navigate(1,a,s,r)}return!1})})}}};t.fn.contentcarousel=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.contentcarousel"),void 0):i.init.apply(this,arguments)}}(jQuery);