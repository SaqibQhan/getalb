!function(t){var e={},i={navigate:function(i,n,s,r){var a=r.scroll,o=1,l=0;if(e.expanded&&(a=1,o=3,l=e.idxClicked),1===i)s.find("div.ca-item:lt("+a+")").each(function(i){t(this).clone(!0).css("left",(e.totalItems-l+i)*e.itemW*o+"px").appendTo(s)});else{var h=s.children().eq(0);s.find("div.ca-item:gt("+(e.totalItems-1-a)+")").each(function(i){t(this).clone(!0).css("left",-(a-i+l)*e.itemW*o+"px").insertBefore(h)})}s.find("div.ca-item").each(function(){var n=t(this);n.stop().animate({left:1===i?"-="+e.itemW*o*a+"px":"+="+e.itemW*o*a+"px"},r.sliderSpeed,r.sliderEasing,function(){(1===i&&n.position().left<-l*e.itemW*o||-1===i&&n.position().left>(e.totalItems-1-l)*e.itemW*o)&&n.remove(),e.isAnimating=!1})})},openItem:function(t,n,s){e.idxClicked=n.index(),e.winpos=i.getWinPos(n.position().left),t.find("div.ca-item").not(n).hide(),n.find("div.ca-content-wrapper").css("left",e.itemW+"px").stop().animate({width:2*e.itemW+"px",left:e.itemW+"px"},s.itemSpeed,s.itemEasing).end().stop().animate({left:"0px"},s.itemSpeed,s.itemEasing,function(){e.isAnimating=!1,e.expanded=!0,i.openItems(t,n,s)})},openItems:function(n,s){var r=s.index();n.find("div.ca-item").each(function(){var n=t(this),s=n.index();s!==r&&(n.css("left",-(r-s)*3*e.itemW+"px").show().find("div.ca-content-wrapper").css({left:e.itemW+"px",width:2*e.itemW+"px"}),i.toggleMore(n,!1))})},toggleMore:function(t,e){e?t.find("a.ca-more").show():t.find("a.ca-more").hide()},closeItems:function(n,s,r){var a=s.index();s.find("div.ca-content-wrapper").stop().animate({width:"0px"},r.itemSpeed,r.itemEasing).end().stop().animate({left:e.itemW*(e.winpos-1)+"px"},r.itemSpeed,r.itemEasing,function(){e.isAnimating=!1,e.expanded=!1}),i.toggleMore(s,!0),n.find("div.ca-item").each(function(){var n=t(this),s=n.index();s!==a&&(n.find("div.ca-content-wrapper").css({width:"0px"}).end().css("left",(e.winpos-1-(a-s))*e.itemW+"px").show(),i.toggleMore(n,!0))})},getWinPos:function(t){switch(t){case 0:return 1;case e.itemW:return 2;case 2*e.itemW:return 3}}},n={init:function(n){if(this.length){var s={sliderSpeed:500,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1};return this.each(function(){n&&t.extend(s,n);var r=t(this),a=r.find("div.ca-wrapper"),o=a.children("div.ca-item");e.itemW=o.width(),e.totalItems=o.length,e.totalItems>3&&r.prepend('<div class="ca-nav"><span class="ca-nav-prev">Previous</span><span class="ca-nav-next">Next</span></div>'),s.scroll<1?s.scroll=1:s.scroll>3&&(s.scroll=3);var l=r.find("span.ca-nav-prev"),h=r.find("span.ca-nav-next");a.css("overflow","hidden"),o.each(function(i){t(this).css({position:"absolute",left:i*e.itemW+"px"})}),r.find("a.ca-more").live("click.contentcarousel",function(){if(e.isAnimating)return!1;e.isAnimating=!0,t(this).hide();var n=t(this).closest("div.ca-item");return i.openItem(a,n,s),!1}),r.find("a.ca-close").live("click.contentcarousel",function(){if(e.isAnimating)return!1;e.isAnimating=!0;var n=t(this).closest("div.ca-item");return i.closeItems(a,n,s),!1}),l.bind("click.contentcarousel",function(){return e.isAnimating?!1:(e.isAnimating=!0,i.navigate(-1,r,a,s),void 0)}),h.bind("click.contentcarousel",function(){return e.isAnimating?!1:(e.isAnimating=!0,i.navigate(1,r,a,s),void 0)}),r.bind("mousewheel.contentcarousel",function(t,n){if(n>0){if(e.isAnimating)return!1;e.isAnimating=!0,i.navigate(-1,r,a,s)}else{if(e.isAnimating)return!1;e.isAnimating=!0,i.navigate(1,r,a,s)}return!1})})}}};t.fn.contentcarousel=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.contentcarousel"),void 0):n.init.apply(this,arguments)}}(jQuery);